# Bitcoin API

- üì± **NestJS** ‚Äì NodeJS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- üìú **TypeScript** ‚Äì JS –Ω–∞ –º–∞–∫—Å–∏–º–∞–ª–∫–∞—Ö
- ‚öôÔ∏è **.env Configuration** ‚Äì –î–æ—Å—Ç—É–ø–Ω–∞ –≥–Ω—É—á–∫–∞ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –ø—Ä–æ—î–∫—Ç—É
- üìä **Swagger** ‚Äì –î–æ—Å—Ç—É–ø–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è API
- üîê **Helmet Security** ‚Äì –î–æ–¥–∞—Ç–∫–æ–≤—ñ –±–µ–∑–ø–µ–∫–æ–≤—ñ –∑–∞–≥–æ–ª–æ–≤–∫–∏
- üê¢ **Throttler** ‚Äì –ó–∞—Ö–∏—Å—Ç –≤—ñ–¥ –ø–æ—Ç–æ–∫—É –∑–∞–ø–∏—Ç—ñ–≤
- ‚ú® **Class Validation** ‚Äì –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- üõ† **Husky, Commitlint, Lint-Staged, Release-It** ‚Äì –î–æ–ø–æ–º—ñ–∂–Ω—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ Git
- üê≥ **Docker Compose** ‚Äì –ü—Ä–æ—î–∫—Ç –º–æ–∂–µ –∫—Ä—É—Ç–∏—Ç–∏—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—É

## –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

–†–µ–∫–æ–º–µ–Ω–¥–æ–≤–∞–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –≤–µ—Ä—Å—ñ—é `NodeJS >= 18`.

```bash
# 1. –°–∫–ª–æ–Ω—É–π—Ç–µ –ø—Ä–æ—î–∫—Ç
git clone https://github.com/kurovskyi/bitcoin-api.git

# 2. –£–≤—ñ–π–¥—ñ—Ç—å –¥–æ –ø—Ä–æ—î–∫—Ç—É
cd bitcoin-api

# 3. –í–∫–∞–∂—ñ—Ç—å –≤–∞—à—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –∑–∞ —à–∞–±–ª–æ–Ω–æ–º
cp example.env .env
cp example.env development.env
cp example.env test.env

# 4. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
yarn
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

‚ùóÔ∏è –î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ—ó —Ä–æ–±–æ—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–∏ —Ç—Ä–µ–±–∞ –≤–ª–∞—Å–Ω–æ—Ä—É—á –Ω–∞–ª–∞—à—Ç—É–≤–∞—Ç–∏ [API CoinMarketCap](https://coinmarketcap.com/api/) —Ç–∞ [API CoinRanking](https://developers.coinranking.com/api) –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –∫—É—Ä—Å–æ–º BTC —Ç–∞ –ø–æ—à—Ç–æ–≤–∏–π —Å–µ—Ä–≤–µ—Ä SMTP.

–£—Å—ñ —Ü—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–¥–∞—é—Ç—å—Å—è –≤ `*.env` —Ñ–∞–π–ª–∞—Ö.

–î–ª—è –ø–æ—á–∞—Ç–∫—É —Ç—Ä–µ–±–∞ –æ–±—Ä–∞—Ç–∏ –∫—Ä–∏–ø—Ç–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä —ñ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∫–ª—é—á—ñ API CoinMarketCap —Ç–∞ API CoinRanking (–º–æ–∂–Ω–∞ –≤–∑—è—Ç–∏ –º–æ—ó):

```bash
CRYPTO_CURRENCY_PROVIDER=CoinMarket # –∞–±–æ CoinRanking
COIN_MARKET_API_KEY=bb1f1a5e-7f4b-40d7-8903-fa8a6a1a5e1b
COIN_RANKING_API_KEY=coinranking645f191d14a11463f154d4e86681cf1ab98aa99cd018b9be
```

–ü–æ—à—Ç–æ–≤—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∑–∞–¥–∞—é—Ç—å—Å—è —Ç—É—Ç:

```bash
MAIL_HOST=mail.host.com
MAIL_PORT=587
MAIL_USER=mail@gmail.com
MAIL_PASSWORD=pass
MAIL_FROM=mail@gmail.com
MAIL_FROM_NAME=${NAME}

MAIL_TRANSPORT=
```

‚ùóÔ∏è –Ø–∫—â–æ MAIL_TRANSPORT –±—É–¥–µ –≤–∫–∞–∑–∞–Ω–∏–π, —Ç–æ —É—Å—ñ —ñ–Ω—à—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –±—É–¥—É—Ç—å —ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏—Å—è. –¶–µ–π –ø–∞—Ä–∞–º–µ—Ç—Ä —è–≤–ª—è—î —Å–æ–±–æ—é —Å–ø–µ—Ü—ñ–∞–ª—å–Ω—É —Å—Ç—Ä–æ–∫—É –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.

–ü—Ä–∏–∫–ª–∞–¥: `MAIL_TRANSPORT=smtps://mail@gmail.com:PASSWORD@mail.host.com`

## –ó–∞–ø—É—Å–∫

### –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É:

‚ùóÔ∏è –ë—É–¥—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –∑–º—ñ–Ω–Ω—ñ –∑ —Ñ–∞–π–ª—É `development.env`

```bash
yarn start:dev
```

### Docker Compose:

‚ùóÔ∏è –ë—É–¥—É—Ç—å –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏—Å—è –∑–º—ñ–Ω–Ω—ñ –∑ —Ñ–∞–π–ª—É `.env`

```bash
docker-compose up -d
```

## –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

–í –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó `*.env` –≤–∫–∞–∑—É—î—Ç—å—Å—è –ø–æ—Ä—Ç, –∑–∞ —è–∫–∏–º –±—É–¥–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π —Ä–µ—Å—É—Ä—Å. –ê–¥—Ä–µ—Å–∞ –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º: `http://localhost:3000`.

–î–ª—è –ø–µ—Ä–µ–≥–ª—è–¥—É Swagger: `http://localhost:3000/docs`.
